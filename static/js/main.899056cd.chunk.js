(this["webpackJsonpcharades-client"]=this["webpackJsonpcharades-client"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},134:function(e,t){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(51),o=a.n(c),s=(a(58),a(1)),l=a.n(s),u=a(7),i=a(3),m=a(2),p=a(9),d=a(5),f=a.n(d),y="http://localhost:4001/api/",h=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slug,e.prev=1,e.next=4,f.a.get("".concat(y,"party/").concat(a));case 4:return n=e.sent,e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.host,n=t.settings,e.prev=1,e.next=4,f.a.post("".concat(y,"party"),{host:a,settings:n});case 4:return r=e.sent,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slug,n=t.username,e.prev=1,e.next=4,f.a.put("".concat(y,"party/").concat(a),{username:n});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),c=e.t0.response&&e.t0.response.data?e.t0.response.data:e.t0.message,e.abrupt("return",{error:c});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slug,n=t.settings,e.next=3,f.a.put("".concat(y,"party/").concat(a,"/settings"),{settings:n});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slug,n=t.username,e.next=3,f.a.delete("".concat(y,"party/").concat(a,"/leave"),{username:n});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slug,e.next=3,f.a.post("".concat(y,"party/").concat(a,"/game/create"));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x={getParty:h,createParty:g,joinParty:b,updateSettings:_,leaveParty:v,addPrompt:function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slug,n=t.author,r=t.prompt,e.next=3,f.a.post("".concat(y,"party/").concat(a,"/prompt"),{author:n,prompt:r});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createGame:E,startGame:function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slug,e.next=3,f.a.put("".concat(y,"party/").concat(a,"/game/start"));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),startTurn:function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slug,e.next=3,f.a.put("".concat(y,"party/").concat(a,"/turn/start"));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),endTurn:function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slug,t.success,e.next=3,f.a.put("".concat(y,"party/").concat(a,"/turn/end"));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),skipTurn:function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slug,e.next=3,f.a.put("".concat(y,"party/").concat(a,"/turn/skip"));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),renameTeam:function(){var e=Object(i.a)(l.a.mark((function e(t){var a,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slug,n=t.teamIndex,r=t.teamName,e.next=3,f.a.put("".concat(y,"party/").concat(a,"/rename"),{teamIndex:n,teamName:r});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=(a(90),function(e){var t=e.style,a=e.label,n=e.subLabel,c=e.name,o=e.value,s=e.onChange,l=e.maxLength,u="".concat(a&&"text-input__label","\n    ").concat(n?"text-input__label--with-sublabel":"");return r.a.createElement("div",{className:"text-input",style:t},r.a.createElement("label",{htmlFor:c,className:u},a,n&&r.a.createElement("span",{className:"text-input__sub-label text__small"},r.a.createElement("br",null),n)),r.a.createElement("input",{name:c,type:"text",value:o,onChange:s,maxLength:l,className:"text__all-caps text__bold text__heading"}))}),N=(a(91),function(e){var t=e.className,a=e.type,n=e.variant,c=e.disabled,o=e.onClick,s=e.style,l=e.icon,u=e.children,i="".concat(t||"","\n  ").concat(a&&"primary"===a?"button-primary text__heading":"","\n  ").concat(a&&"secondary"===a?"button-secondary":"","\n  ").concat(n&&"yes"===n?"button-yes":"","\n  ").concat(n&&"no"===n?"button-no":"","\n  ").concat(c?"button-disabled":"");return r.a.createElement("button",{className:i,onClick:o,style:s,disabled:c},l&&r.a.createElement("span",{className:"button-secondary__icon"},l),u)});a(92);var w=function(e){var t=e.onClick;return r.a.createElement(N,{type:"secondary",className:"close-button",onClick:t},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",strokeWidth:"2"},r.a.createElement("line",{x1:"8.22188",y1:"7.77824",x2:"23.7782",y2:"23.3346",strokeWidth:"2"}),r.a.createElement("line",{x1:"23.7782",y1:"7.7784",x2:"8.2218",y2:"23.3347",strokeWidth:"2"})))},j=(a(93),function(e){var t=e.className,a=e.teamName,n=e.children,c=e.myTeam,o=e.myTurn,s=e.color,l=e.fullHeight,u=e.onRenameClick,i="team-box\n  ".concat(t||""," \n  ").concat(l?"team-box--full-height":"");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:i},r.a.createElement("div",{className:"team-box__header"},r.a.createElement("div",{className:"team-box__team-label text__all-caps text__heading text__bold",style:{background:s}},a),c&&!o&&r.a.createElement(N,{onClick:u,type:"secondary",className:"team-box__rename-button"},"Rename?")),r.a.createElement("div",{className:"team-box__body",style:{background:s}},n)))});a(94),a(95);var O=function(e){var t=e.party,a=1===t.games[t.games.length-1].turns.length,n=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.startTurn({slug:t.slug});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"youre-up"},r.a.createElement("h3",{className:"youre-up__title"},a?"You Go First!":"You're Up"),r.a.createElement("p",{className:"youre-up__text"},"Tap the button when you are ready to act out a prompt"),r.a.createElement(N,{onClick:n,className:"youre-up__button",type:"primary"},"I'm Ready"))},C=function(e){var t=e.className,a=e.youreUp,n=e.party,c=e.playerName,o=e.host,s=e.actorUp,l=e.onDeck,u=e.color,i="player\n  ".concat(t||""),m="player__badge player__badge--status text__all-caps \n  text__small text__bold \n  ".concat(s&&"player__badge--status-actor-up"," \n  ").concat(l&&"player__badge--status-on-deck");return r.a.createElement("li",{className:i},r.a.createElement("div",{className:"player__item"},o&&r.a.createElement("div",{className:"player__badge player__badge--host text__all-caps text__small text__bold"}),r.a.createElement("div",{className:"player__name text__all-caps text__heading text__bold",style:{color:u}},c),(s||l)&&r.a.createElement("div",{className:m,style:{background:l?u:"var(--color__foreground)"}})),a&&r.a.createElement(O,{party:n}))},T=(a(96),function(e){var t=e.className,a=e.username,n=e.party,c=e.host,o=e.players,s=e.actorUp,l=e.onDeck,u=e.color,i="player-list\n  ".concat(t||"");return r.a.createElement("ul",{className:i},o.map((function(e,t){return r.a.createElement(C,{party:n,username:a,playerName:e,host:c===e,actorUp:s===e,onDeck:l===e,youreUp:s===a&&s===e,color:u,key:e+t})})))}),S=(a(97),function(e){var t=e.className,a=e.score,n=void 0===a?0:a,c="score\n  ".concat(t||"");return r.a.createElement("div",{className:c},r.a.createElement("span",{className:"score__label text__all-caps text__heading text__bold"},"Score"),r.a.createElement("span",{className:"score__number text__all-caps text__all-caps--large text__bold"},n))}),P=(a(98),"0 0 38 38"),D="19",W="19",M="15.91549430918954",I=function(e){var t=e.strokeColor,a=void 0===t?"#2d9cdb":t,n=e.strokeWidth,c=e.percentage,o=e.trailStrokeWidth,s=e.trailSpaced,l=void 0!==s&&s,u=e.innerText,i=void 0===u?"":u,m=100*c;return r.a.createElement("svg",{viewBox:P},r.a.createElement("circle",{className:"donut-ring",cx:D,cy:W,r:M,fill:"transparent",stroke:"white",strokeWidth:o,strokeDasharray:l?1:0}),r.a.createElement("circle",{className:"donut-segment",cx:D,cy:W,r:M,fill:"transparent",stroke:a,strokeWidth:n,strokeDasharray:"".concat(m," ").concat(100-m),strokeDashoffset:25}),r.a.createElement("g",{className:"chart-text"},r.a.createElement("text",{x:"50%",y:"50%",className:"chart-label"},i)))};var F=function(e){var t=e.startTime,a=e.turnDurationSeconds,c=e.size,o=void 0===c?"medium":c,s=e.color,l=function(e){var t=e.startTime,a=e.turnDurationSeconds,r=Object(n.useState)(null),c=Object(m.a)(r,2),o=c[0],s=c[1],l=Object(n.useState)(null),u=Object(m.a)(l,2),i=u[0],p=u[1],d=Object(n.useMemo)((function(){return 1e3*(t+a)}),[t,a]);a*=10,Object(n.useEffect)((function(){if(!t)return p(null);var e=Date.now();if(null===i&&null===o)if(t>=e){var n=Math.floor((t-e)/100);setTimeout((function(){s(n)}),t-e-100*n)}else{var r=Math.floor((t-e)/100);setTimeout((function(){p(a+r)}),t-e-100*r)}}),[t,a,o,i]),Object(n.useEffect)((function(){var e;return Date.now()<d?e=setInterval((function(){o>0?s((function(e){return e-1})):0===o?(p(a),s(null)):i>0?p((function(e){return e-1})):e&&clearInterval(e)}),100):e&&clearInterval(e),function(){e&&clearInterval(e)}}),[i,o,d,a]);var f,y,h,g=[null,"Go!","Set!","Ready!"][Math.ceil(o/10)],b=null!==i?Math.ceil(i/10):a/10,_=Math.floor(b/60),v=_+":"+(f=b-60*_,y="0",h=2,(new Array(h+1).join(y)+f).slice(-h));return{countdown:g||v,percentage:null===i?1:i/a}}({startTime:new Date(t).getTime(),turnDurationSeconds:a}),u=l.countdown,i=l.percentage;return r.a.createElement(r.a.Fragment,null,"small"===o&&r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{width:"28px",height:"28px",marginRight:"12px"}},r.a.createElement(I,{strokeWidth:6,trailStrokeWidth:6,percentage:i,strokeColor:s})),r.a.createElement("h1",{style:{fontSize:"21px",fontWeight:900}},u)),"medium"===o&&r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{width:"80px",height:"80px"}},r.a.createElement(I,{strokeWidth:6,trailStrokeWidth:6,percentage:i,innerText:u,strokeColor:s}))),"large"===o&&r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{width:"160px",height:"160px"}},r.a.createElement(I,{strokeWidth:5,trailStrokeWidth:5,percentage:i,innerText:u,strokeColor:s}))))},G=(a(99),function(e){var t=e.className,a=e.type,n=e.isActive,c=e.isOpaque,o=e.children,s=e.title,l=e.body,u=e.submitButtonText,i=e.noCancel,m=e.onClickClose,p=e.onClickYes,d=e.onClickNo,f=e.onClickSubmit,y="modal__screen\n  ".concat(t||"","\n  ").concat(n?"modal__screen--active":"","\n  ").concat(c?"modal__screen--opaque":"");return r.a.createElement("div",{className:y,onClick:m},r.a.createElement("div",{className:"modal__panel",onClick:function(e){return e.stopPropagation()}},r.a.createElement("div",{className:"modal__header"},r.a.createElement("p",{className:"modal__header-text text__heading"},s),!i&&r.a.createElement(w,{onClick:m})),r.a.createElement("div",{className:"modal__body text__body"},l||o),r.a.createElement("div",{className:"modal__buttons ".concat("confirm"===a?" modal__buttons--confirm":"")},"confirm"===a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{type:"primary",variant:"no",onClick:d},"Nope..."),r.a.createElement(N,{type:"primary",variant:"yes",onClick:p},"Yep!")),"alert"===a&&r.a.createElement(N,{type:"primary",onClick:f},u||"Ok"))))}),U=a(10);a(100),a(101),a(102);var R=function(e){e.party;var t=e.teamPlayers,a=e.username,n=e.onPoint,c=e.color,o=t.filter((function(e){return e!==a}));return r.a.createElement("div",{className:"pointing"},o.map((function(e){return r.a.createElement(L,{player:e,onPoint:n,color:c,key:e})})))};function L(e){var t=e.player,a=e.onPoint,n=e.color;return r.a.createElement("div",{className:"pointing-item",style:{backgroundColor:n},onClick:function(){a(t)}},r.a.createElement("h4",{className:"text__all-caps text__heading text__bold"},t),r.a.createElement("div",{className:"pointing-item__pointer"}))}var B=function(e){var t=e.party,a=e.turn,n=e.color,c=e.username,o=e.teamPlayers,s=e.onPoint;return r.a.createElement("div",{className:"acting"},r.a.createElement("div",{className:"acting__header"},r.a.createElement("div",{className:"acting__header-text"},r.a.createElement("h1",{className:"text__all-caps text__heading text__bold",style:{color:n}},c),r.a.createElement("h3",{className:"text__heading text__bold"},"Your Prompt Is:")),r.a.createElement("div",{className:"acting__timer"},r.a.createElement(F,{startTime:a.startTime,turnDurationSeconds:t.settings.turnDurationSeconds,size:"medium",color:n}))),r.a.createElement("div",{className:"acting__prompt"},r.a.createElement("h1",{className:"acting__prompt-text"},a.prompt)),r.a.createElement(R,{party:t,turn:a,color:n,teamPlayers:o,username:c,onPoint:s}))};a(103);var A=function(e){var t=e.party,a=e.actorUp,n=e.color,c=e.myTeam,o=e.turn,s=c?"Guess correctly before time is up! \u23f0":"You can relax this turn \ud83d\ude0e";return r.a.createElement("div",{className:"guessing"},r.a.createElement("h1",{className:"text__all-caps text__heading text__bold",style:{color:n}},a),r.a.createElement("h3",{className:"text__heading text__bold"},"Is Acting!"),r.a.createElement("p",{className:"guessing__action-text"},s),r.a.createElement("div",{className:"guessing__timer"},r.a.createElement(F,{startTime:o.startTime,turnDurationSeconds:t.settings.turnDurationSeconds,size:"large",color:n})))};var V=function(e){var t,a=e.party,n=e.username,c=e.turn,o=e.actorUp,s=e.color,l=e.teamPlayers,u=e.onPoint,i=o===n;return r.a.createElement("div",{className:"turn"},i?r.a.createElement(B,(t={party:a,turn:c,username:n,color:s},Object(U.a)(t,"username",n),Object(U.a)(t,"teamPlayers",l),Object(U.a)(t,"onPoint",u),t)):r.a.createElement(A,{party:a,turn:c,actorUp:o,color:s,myTeam:l.includes(n)}))};a(104);var z=function(e){var t=e.color,a=e.pointer,n=e.pointee,c=n===e.username,o=c?"\u261a":"\u261c";return r.a.createElement("div",{className:"pointed-at",style:{backgroundColor:c?"#2D9CDB":t,color:c?"#FFFFFF":"#333333"}},r.a.createElement("div",{className:"pointed-at__text"},r.a.createElement("h1",null,a),r.a.createElement("h1",null,"is pointing"),c?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"at you,"),r.a.createElement("h1",null,n,"!")):r.a.createElement("h1",null,"at ",n,"!")),r.a.createElement("div",{className:"pointed-at__icon"},o))},Y=a(23),H=function(e){var t=e.party,a=e.username,r=t.games[t.games.length-1],c=r.turns[r.turns.length-1],o=t.host===a,s=c.player,l=Object(n.useMemo)((function(){if(r.totalTurns>r.turns.length){var e=r.teams[(c.teamIndex+1)%t.settings.teamsCount];return e.teamPlayers[e.playerIndex]}return""}),[t.settings.teamsCount,c.teamIndex,r.totalTurns,r.turns.length,r.teams]),u=Object(n.useMemo)((function(){return r.turns[r.turns.length-1].startTime&&!r.turns[r.turns.length-1].endTime}),[r.turns]),i=Object(n.useMemo)((function(){return r.teams.findIndex((function(e){return e.teamPlayers.includes(a)}))}),[r.teams,a]),m=r.teams[i].teamName,p=Object(n.useMemo)((function(){return r.teams.reduce((function(e,t,a){return a===i?[t].concat(Object(Y.a)(e)):[].concat(Object(Y.a)(e),[t])}),[])}),[r.teams,i]),d=Object(n.useMemo)((function(){return r.teams.filter((function(e){return e.teamPlayers.includes(s)}))}),[r.teams,s]);return{teams:u?d:p,scoreboardTeams:p,activeTeam:d[0],game:r,turn:c,inTurn:u,actorUp:s,onDeck:l,isHost:o,userTeamIndex:i,userTeamName:m}};var q=function(e){var t=e.party,a=e.username,n=e.onRenameClick,c=e.onScoreboardClose,o=e.onLeaveGameClick,s=e.onManagePlayersClick,l=H({party:t,username:a}),u=l.scoreboardTeams,i=l.turn,m=(l.color,l.inTurn,l.isHost),p=l.actorUp,d=l.onDeck,f=l.activeTeam;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"app__header app__header--with-rule",style:{justifyContent:"space-between"}},m?r.a.createElement(N,{onClick:s,type:"secondary",className:"button-secondary--min-width"},r.a.createElement("div",{className:"player__badge player__badge--host text__all-caps text__small text__bold"}),"  ","Manage Players"):r.a.createElement(N,{onClick:o,type:"secondary",className:"button-secondary--min-width",icon:"\u2715"},"Leave Game"),r.a.createElement(F,{startTime:i.startTime,turnDurationSeconds:t.settings.turnDurationSeconds,size:"small",color:f.teamColor})),r.a.createElement("main",{className:"app__main",style:{paddingBottom:0}},u.map((function(e,c){return r.a.createElement(j,{key:e.teamName,myTeam:e.teamPlayers.includes(a),myTurn:p===a,color:e.teamColor,teamName:e.teamName,onRenameClick:n},r.a.createElement(T,{party:t,username:a,color:e.teamColor,players:e.teamPlayers,actorUp:p,onDeck:d}),r.a.createElement(S,{score:e.score}))}))),r.a.createElement("footer",{className:"app__footer"},r.a.createElement(N,{onClick:c,type:"secondary",className:"button-secondary--min-width",icon:"\u23ce"},"Actor Up")))};var J=function(e){var t=e.username,a=e.setUsername,c=e.hideCreateGameView,o=Object(n.useState)(2),s=Object(m.a)(o,2),u=s[0],d=s[1],f=Object(n.useState)(1),y=Object(m.a)(f,2),h=y[0],g=y[1],b=Object(n.useState)(90),_=Object(m.a)(b,2),v=_[0],E=_[1],j=Object(p.useLocalStorage)("charades"),O=Object(m.a)(j,2),C=(O[0],O[1]),T=function(){var e=Object(i.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.createParty({host:t,settings:{teamsCount:u,rotations:h,turnDuration:v}});case 2:if((a=e.sent)&&a.data){e.next=6;break}return alert("Server Error"),e.abrupt("return");case 6:n=a.data,C({slug:n,username:t}),window.location.pathname=n;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"app__header app__header--with-rule"},r.a.createElement("h1",{className:"text__heading app__title"},"WebCharades"),r.a.createElement(w,{onClick:c})),r.a.createElement("main",{className:"app__main app__main--home"},r.a.createElement(k,{name:"teams-count",label:"Teams",subLabel:"The number of teams playing",value:u,onChange:function(e){d(e.target.value)}}),r.a.createElement(k,{name:"rotations",label:"Rotations",subLabel:"The number of rounds per player",style:{marginTop:"20px"},value:h,onChange:function(e){g(e.target.value)}}),r.a.createElement(k,{name:"turn-duration",label:"Turn Duration",subLabel:"The length of each turn (in seconds)",style:{marginTop:"20px"},value:v,onChange:function(e){E(e.target.value)}}),r.a.createElement(k,{name:"player-name",label:"Player Name",subLabel:" ",style:{marginTop:"20px"},value:t,onChange:function(e){a(e.target.value)}}),r.a.createElement(N,{onClick:T,type:"primary",disabled:!1,style:{marginTop:"24px"}},"Create Game")),r.a.createElement("footer",{className:"app__footer"},r.a.createElement(N,{onClick:c,type:"secondary",className:"button-secondary--min-width"},"Cancel")))};var $=function(e){var t=e.slug,a=e.username,c=e.setUsername,o=e.showCreateGameView,s=Object(n.useState)(t),u=Object(m.a)(s,2),d=u[0],f=u[1],y=Object(p.useLocalStorage)("charades"),h=Object(m.a)(y,2),g=(h[0],h[1]);Object(n.useEffect)((function(){f(t)}),[t]);var b=function(){var e=Object(i.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.joinParty({slug:d,username:a});case 2:n=e.sent,(r=n.error)&&console.error("SERVER ERROR: ".concat(r)),g({slug:d,username:a}),window.location.pathname=t;case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"app__header"},r.a.createElement("h1",{className:"text__heading app__title"},"WebCharades")),r.a.createElement("main",{className:"app__main app__main--home"},r.a.createElement(k,{name:"room-code",label:"Room Code",value:d,onChange:function(e){f(e.target.value)}}),r.a.createElement(k,{name:"player-name",label:"Player Name",style:{marginTop:"20px"},value:a,onChange:function(e){c(e.target.value)}}),r.a.createElement(N,{onClick:b,type:"primary",style:{marginTop:"24px"},disabled:!d.length||!a.length},"Join Game")),r.a.createElement("footer",{className:"app__footer"},r.a.createElement(N,{onClick:o,type:"secondary",className:"button-secondary--min-width",icon:"+"},"Create Game")))};var K=function(e){var t=e.username,a=e.slug,c=e.setCurrentViewToParty,o=Object(n.useState)(!1),s=Object(m.a)(o,2),l=s[0],u=s[1],i=Object(n.useState)(t),p=Object(m.a)(i,2),d=p[0],f=p[1];return r.a.createElement("div",{id:"app"},l?r.a.createElement(J,{username:d,setUsername:f,hideCreateGameView:function(){return u(!1)},setCurrentViewToParty:c}):r.a.createElement($,{slug:a,username:d,setUsername:f,showCreateGameView:function(){return u(!0)},setCurrentViewToParty:c}))},Q=a(52),X=a.n(Q),Z=a(142),ee=function(e){return function(t){var a=Object(n.useState)(!1),c=Object(m.a)(a,2),o=c[0],s=c[1],l=Object(n.useState)(t.party),u=Object(m.a)(l,2),i=u[0],p=u[1],d=Object(n.useState)({pointer:null,pointee:null}),f=Object(m.a)(d,2),y=f[0],h=f[1],g=Object(Z.a)((function(){h({pointer:null,pointee:null})}),1e3),b=Object(m.a)(g,2),_=b[0],v=b[1],E=Object(n.useMemo)((function(){return X()("".concat("http://localhost:4001/").concat(t.slug))}));Object(n.useEffect)((function(){o||(E.on("update",(function(e){return p(e.party)})),E.on("point-at",(function(e){var t=e.pointee,a=e.pointer;v(),h({pointee:t,pointer:a}),_()}))),E.on("connect",(function(){s(!0)}))}),[t,v,_,E]);return r.a.createElement(e,Object.assign({},t,{party:i,onPoint:function(e){E.emit("point-at",{pointer:t.username,pointee:e})},pointedAt:y}))}};a(137);var te=function(e){var t=e.party,a=e.username,n=t.host===a,c=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.createGame({slug:t.slug});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"app__header app__header--with-rule "},r.a.createElement("div",{className:"waiting-room__header"},r.a.createElement("span",{className:"waiting-room__header-left"},r.a.createElement("h1",{className:"text__heading"},"WebCharades")),r.a.createElement("span",{className:"waiting-room__header-divider"}),r.a.createElement("span",{className:"waiting-room__header-right"},r.a.createElement("p",{className:"waiting-room__header-subtext"},"Room:"),r.a.createElement("h1",{onClick:function(){return navigator.clipboard.writeText(window.location.href)},className:"text__heading text__all-caps",style:{cursor:"pointer"}},t.slug)))),r.a.createElement("main",{className:"app__main app__main--home"},r.a.createElement(j,{color:"var(--color__foreground)",players:t.players,teamName:"Players"},r.a.createElement(T,{color:"var(--color__foreground)",players:t.players,host:t.host})),r.a.createElement("p",{className:"waiting-room__waiting-text"},"Waiting for all players to join...")),r.a.createElement("footer",{className:"app__footer"},n&&r.a.createElement(N,{type:"primary",className:"button-secondary--min-width",onClick:c},"Everyone's Here!")))};var ae=function(e){var t=e.party,a=e.username,c=Object(n.useState)(""),o=Object(m.a)(c,2),s=o[0],u=o[1],p=Object(n.useCallback)((function(e){return t.prompts.filter((function(t){return t.author===e})).length}),[t]),d=Object(n.useMemo)((function(){return p(a)}),[p,a]),f=Object(n.useMemo)((function(){return Math.ceil(t.players.length/t.settings.teamsCount*t.settings.rotations)}),[t]),y=Object(n.useMemo)((function(){return t.players.filter((function(e){return p(e)<f}))}),[t,p,f]),h=Object(n.useMemo)((function(){var e=y.length;if(e>3)return"Waiting for ".concat(e," players to write their prompts.");if(e>0){var t=y.reduce((function(e,t,a,n){return e+(a<n.length-1?", ":" and ")+t}));return"Still waiting for ".concat(t,"!")}return"Everyone finished their clues! \ud83e\udd73\ud83e\udd73\ud83e\udd73"}),[y]),g=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,x.addPrompt({slug:t.slug,author:a,prompt:s});case 4:u("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,x.startGame({slug:t.slug});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"app__header"},r.a.createElement("h1",{className:"text__heading app__title"},"WebCharades")),r.a.createElement("main",{className:"app__main app__main--home"},r.a.createElement("h3",null,"Start Writing!"),r.a.createElement("p",{style:{marginTop:"40px",width:"200px",textAlign:"center"}},h),r.a.createElement("p",{className:"text-input__sub-label",style:{marginTop:"40px"}},"Prompt ".concat(d+1," of ").concat(f)),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),g()}},r.a.createElement(k,{name:"prompt",style:{marginTop:"20px"},value:s,onChange:function(e){u(e.target.value)}}),r.a.createElement(N,{type:"primary",style:{marginTop:"24px"}},"Submit Prompt"))),r.a.createElement("footer",{className:"app__footer"},!y.length&&r.a.createElement(N,{type:"secondary",className:"button-secondary--min-width",onClick:b},"Start Game!")))};a(138);var ne=function(e){var t=e.party,a=e.username,c=(e.isHost,e.onPoint),o=e.pointedAt,s=H({party:t,username:a}),u=s.teams,p=s.scoreboardTeams,d=s.game,f=s.turn,y=s.inTurn,h=s.actorUp,g=s.onDeck,b=s.userTeamIndex,_=s.userTeamName,v=Object(n.useState)(_),E=Object(m.a)(v,2),w=E[0],O=E[1],C=Object(n.useState)(!1),P=Object(m.a)(C,2),D=P[0],W=P[1],M=Object(n.useState)(!1),I=Object(m.a)(M,2),F=I[0],U=I[1],R=Object(n.useState)(!1),L=Object(m.a)(R,2),B=L[0],A=L[1],Y=Object(n.useState)(!1),J=Object(m.a)(Y,2),$=J[0],K=J[1],Q=Object(n.useState)(!1),X=Object(m.a)(Q,2),Z=X[0],ee=X[1],te=function(){return U(!0)},ae=function(){return U(!1)},ne=function(){return A(!1)},re=function(){return K(!1)},ce=function(){return ee(!1)},oe=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.renameTeam({slug:t.slug,teamName:w,teamIndex:b});case 3:ae(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(i.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.leaveParty({slug:t.slug,username:a});case 3:n=e.sent,console.log(n),ne(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(i.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.endTurn({slug:t.slug,success:a});case 3:re(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){y&&W(!1)}),[y]),o.pointer&&o.pointer!==a?r.a.createElement(z,{pointer:o.pointer,pointee:o.pointee,username:a,color:u[0].teamColor}):r.a.createElement(r.a.Fragment,null,D&&r.a.createElement(q,{party:t,username:a,teams:p,turn:f,onRenameClick:te,onScoreboardClose:function(){return W(!1)},onLeaveGameClick:function(){return A(!0)},onManagePlayersClick:function(){return ee(!0)}}),!y&&!D&&r.a.createElement("header",{className:"app__header app__header--with-rule"},r.a.createElement("h1",{className:"text__heading app__title"},"Teams")),!D&&r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"app__main",style:{paddingBottom:0}},u.map((function(e,n){return r.a.createElement(j,{key:e.teamName,myTeam:e.teamPlayers.includes(a),myTurn:h===a,color:e.teamColor,teamName:e.teamName,fullHeight:y,onRenameClick:te},y?r.a.createElement(V,{party:t,username:a,turn:f,actorUp:h,color:e.teamColor,teamPlayers:e.teamPlayers,onPoint:c}):r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{party:t,username:a,color:e.teamColor,players:e.teamPlayers,actorUp:h,onDeck:g}),d.turns.length>1&&r.a.createElement(S,{score:e.score})))}))),r.a.createElement("footer",{className:"app__footer"},y&&h!==a&&r.a.createElement(N,{onClick:function(){return W(!0)},type:"secondary",className:"button-secondary--min-width",icon:"\u265b"},"Scoreboard"))),r.a.createElement(G,{isActive:F,onClickClose:ae,title:"Rename Team?",submitButtonText:"Rename Team",onClickSubmit:oe,type:"alert"},r.a.createElement("p",{style:{marginBottom:"12px"}},"Enter a new team name"),r.a.createElement(k,{onChange:function(e){return O(e.target.value)},value:w,maxLength:10})),r.a.createElement(G,{isActive:B,onClickClose:ne,title:"Leave Game?",submitButtonText:"Leave Game",onClickSubmit:se,type:"alert",body:r.a.createElement("p",{style:{marginBottom:"12px"}},"Leave this game now")}),r.a.createElement(G,{isOpaque:!0,isActive:$,onClickClose:re,title:"Time's Up! Did You Get It?",onClickYes:function(){return le(!0)},onClickNo:function(){return le(!1)},type:"confirm",body:r.a.createElement("p",{style:{marginBottom:"12px"}},"Did your team guess correctly?")}),r.a.createElement(G,{isActive:Z,onClickClose:ce,title:"ManagePlayers?",submitButtonText:"I'm Done",onClickSubmit:ce,type:"alert"}))};var re=ee((function(e){var t=e.username,a=e.party,c=e.pointedAt,o=e.onPoint,s=function(e){var t=e.games[e.games.length-1];return[Object(n.useMemo)((function(){return 0===e.games.length?"pre-game":null===t.startTime?"prompt-writing":t.startTime&&null===t.endTime?"game-play":null!==t.endTime?"post-game":void 0}),[e])]}(a),l=Object(m.a)(s,1)[0],u={party:a,username:t,pointedAt:c,onPoint:o},i={"pre-game":r.a.createElement(te,u),"prompt-writing":r.a.createElement(ae,u),"game-play":r.a.createElement(ne,u)};return r.a.createElement(r.a.Fragment,null,i[l])}));var ce=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2);return t[0],t[1],r.a.createElement("div",{className:"app__main"},r.a.createElement("h1",null," Timer Widget "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(F,{startTime:Date.now()+3e3,turnDurationSeconds:60,size:"small"}),r.a.createElement("br",null),r.a.createElement(F,{startTime:Date.now()+3e3,turnDurationSeconds:60,size:"medium"}),r.a.createElement("br",null),r.a.createElement(F,{startTime:Date.now()+3e3,turnDurationSeconds:60,size:"large"}))};a(139);var oe=function(){return r.a.createElement("div",{className:"app__main app__main--home"},r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"cube1"}),r.a.createElement("div",{className:"cube2"})))};var se=function(){var e=Object(n.useState)("loading"),t=Object(m.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({}),s=Object(m.a)(o,2),d=s[0],f=s[1],y=Object(p.useLocalStorage)("charades",{username:"",slug:""}),h=Object(m.a)(y,2),g=h[0],b=h[1];Object(n.useEffect)((function(){setTimeout(function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.location.pathname.slice(1)){e.next=17;break}if(g.slug){e.next=6;break}b(Object(u.a)(Object(u.a)({},g),{},{slug:""})),e.next=15;break;case 6:return e.next=8,x.getParty({slug:g.slug});case 8:if(!(a=e.sent)||!a.players.includes(g.username)){e.next=14;break}return window.location.pathname=g.slug,f(a),c("party"),e.abrupt("return");case 14:b(Object(u.a)(Object(u.a)({},g),{},{slug:""}));case 15:e.next=31;break;case 17:e.next=20;break;case 20:if(t!==g.slug){e.next=30;break}return e.next=23,x.getParty({slug:g.slug});case 23:if(!(n=e.sent)||!n.players.includes(g.username)){e.next=28;break}return f(n),c("party"),e.abrupt("return");case 28:e.next=31;break;case 30:b(Object(u.a)(Object(u.a)({},g),{},{slug:t}));case 31:c("home");case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),500)}),[]);var _={home:r.a.createElement(K,{slug:g.slug,username:g.username,setCurrentViewToParty:function(){return c("party")}}),party:r.a.createElement(re,{slug:g.slug,username:g.username,party:d,setCurrentViewToHome:function(){return c("home")}}),loading:r.a.createElement(oe,null),sandbox:r.a.createElement(ce,null)};return r.a.createElement("div",{id:"app"},_[a])};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},53:function(e,t,a){e.exports=a(140)},58:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[53,1,2]]]);
//# sourceMappingURL=main.899056cd.chunk.js.map